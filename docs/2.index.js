(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{11:function(n,t,e){"use strict";var r=e.w[n.i];n.exports=r;e(6);r.e()},12:function(n,t,e){"use strict";e.d(t,"a",function(){return d});var r=e(13),o=e.n(r);function i(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function s(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function u(n,t,e){return t&&s(n.prototype,t),e&&s(n,e),n}function c(n,t){return document.addEventListener(n,t),function(){document.removeEventListener(n,t)}}var _=".keybox",f=function(){function n(){var t=this;a(this,n),this._listeners=[];var e=document.querySelector(_);if(!e)throw Error("Keybox element not on page");this._element=e,this._scale=1;var r=new o.a(this._element);r.get("pinch").set({enable:!0}),r.on("tap",function(n){2===n.tapCount&&(t._scale>1?t._zoomOut():t._zoomIn());var e=Number(n.target.dataset.keyCode);e&&t._emit("tap",e)}),r.on("press",function(n){var e=Number(n.target.dataset.keyCode);e&&t._emit("press",e)}),r.on("pressup",function(n){var e=Number(n.target.dataset.keyCode);e&&t._emit("pressup",e)})}return u(n,[{key:"_zoomIn",value:function(){this._scale<3?this._scale+=.5:this._scale=3,this._resize()}},{key:"_zoomOut",value:function(){this._scale>1?this._scale-=.5:this._scale=1,this._resize()}},{key:"_resize",value:function(){var n=24*this._scale;this._element.style.fontSize="".concat(n,"px")}},{key:"_emit",value:function(n,t){var e=this._listeners,r=i(this._listeners);this._listeners=r,e.forEach(function(e){return e({type:n,keyCode:t})})}},{key:"addKeyLisitener",value:function(n){var t=this;return this._listeners.push(n),function(){t._listeners=t._listeners.filter(function(t){return t!==n})}}}]),n}(),d=function(){function n(t){a(this,n),this._onEnterFrame=t,this._rafId=null,this._unlistens=[],this._key=0,this._isTap=!1,this._run=this._run.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._keybox=new f;var e=this._keybox.addKeyLisitener(this._onKeybox.bind(this));this._unlistens.push(e)}return u(n,[{key:"running",value:function(){return null!==this._rafId}},{key:"start",value:function(){return!this.running()&&(this._rafId=window.requestAnimationFrame(this._run),this._unlistens.push(c("keydown",this._onKeyDown)),this._unlistens.push(c("keyup",this._onKeyUp)),!0)}},{key:"stop",value:function(){return!!this.running()&&(this._rafId&&cancelAnimationFrame(this._rafId),this._rafId=null,this._unlistens.forEach(function(n){return n()}),this._unlistens.length=0,!0)}},{key:"_run",value:function(){if(this.running())try{this._onEnterFrame(this._key),this._rafId=window.requestAnimationFrame(this._run),this._isTap&&(this._key=0,this._isTap=!1)}catch(n){this.stop()}}},{key:"_onKeybox",value:function(n){switch(n.type){case"tap":this._key=n.keyCode,this._isTap=!0;break;case"press":this._key=n.keyCode,this._isTap=!1;break;default:case"pressup":this._key=0}}},{key:"_onKeyDown",value:function(n){switch(n.keyCode){case 13:case 37:case 38:case 39:case 40:this._key=n.keyCode;break;case 87:case 75:this._key=38;break;case 74:case 83:this._key=40;break;case 72:case 65:this._key=37;break;case 76:case 68:this._key=39}}},{key:"_onKeyUp",value:function(){this._key=0}}]),n}()},6:function(n,t,e){"use strict";e.r(t),function(n,r){e.d(t,"__wbg_new_7733f9a79f16fcf3",function(){return l}),e.d(t,"__wbg_start_d02e687b09c37f58",function(){return h}),e.d(t,"main",function(){return w}),e.d(t,"__widl_instanceof_CanvasRenderingContext2D",function(){return y}),e.d(t,"__widl_f_begin_path_CanvasRenderingContext2D",function(){return g}),e.d(t,"__widl_f_fill_CanvasRenderingContext2D",function(){return C}),e.d(t,"__widl_f_stroke_CanvasRenderingContext2D",function(){return x}),e.d(t,"__widl_f_set_stroke_style_CanvasRenderingContext2D",function(){return k}),e.d(t,"__widl_f_set_fill_style_CanvasRenderingContext2D",function(){return T}),e.d(t,"__widl_f_arc_CanvasRenderingContext2D",function(){return H}),e.d(t,"__widl_f_line_to_CanvasRenderingContext2D",function(){return j}),e.d(t,"__widl_f_move_to_CanvasRenderingContext2D",function(){return K}),e.d(t,"__widl_f_clear_rect_CanvasRenderingContext2D",function(){return A}),e.d(t,"__widl_f_fill_rect_CanvasRenderingContext2D",function(){return z}),e.d(t,"__widl_f_stroke_rect_CanvasRenderingContext2D",function(){return N}),e.d(t,"__widl_f_fill_text_CanvasRenderingContext2D",function(){return Q}),e.d(t,"__widl_f_set_font_CanvasRenderingContext2D",function(){return X}),e.d(t,"__widl_f_create_element_Document",function(){return Z}),e.d(t,"__widl_f_body_Document",function(){return tn}),e.d(t,"__widl_instanceof_HTMLCanvasElement",function(){return en}),e.d(t,"__widl_f_get_context_HTMLCanvasElement",function(){return on}),e.d(t,"__widl_f_width_HTMLCanvasElement",function(){return sn}),e.d(t,"__widl_f_set_width_HTMLCanvasElement",function(){return cn}),e.d(t,"__widl_f_height_HTMLCanvasElement",function(){return fn}),e.d(t,"__widl_f_set_height_HTMLCanvasElement",function(){return ln}),e.d(t,"__widl_f_append_child_Node",function(){return hn}),e.d(t,"__widl_instanceof_Window",function(){return wn}),e.d(t,"__widl_f_document_Window",function(){return vn}),e.d(t,"__wbg_newnoargs_f3005d02efe69623",function(){return gn}),e.d(t,"__wbg_call_10738551fb4d99e4",function(){return Cn}),e.d(t,"__wbindgen_object_clone_ref",function(){return mn}),e.d(t,"__wbindgen_object_drop_ref",function(){return Dn}),e.d(t,"__wbindgen_string_new",function(){return En}),e.d(t,"__wbindgen_number_get",function(){return kn}),e.d(t,"__wbindgen_is_null",function(){return Rn}),e.d(t,"__wbindgen_is_undefined",function(){return Tn}),e.d(t,"__wbindgen_boolean_get",function(){return On}),e.d(t,"__wbindgen_is_symbol",function(){return Ln}),e.d(t,"__wbindgen_string_get",function(){return Hn}),e.d(t,"__wbindgen_cb_forget",function(){return Mn}),e.d(t,"__wbindgen_closure_wrapper42",function(){return jn}),e.d(t,"__wbindgen_throw",function(){return Sn});var o=e(11),i=e(12);function a(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(n){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var u=[],c=[{obj:void 0},{obj:null},{obj:!0},{obj:!1}];function _(n){return 1==(1&n)?u[n>>1]:c[n>>1].obj}var f=c.length;function d(n){f===c.length&&c.push(c.length+1);var t=f,e=c[t];return f=e,c[t]={obj:n,cnt:1},t<<1}function l(n){return d(new i.a(_(n)))}var p=i.a.prototype.start||function(){throw new Error("wasm-bindgen: GameLoop.prototype.start does not exist")};function h(n){return p.call(_(n))?1:0}function w(){return o.c()}function y(n){return _(n)instanceof CanvasRenderingContext2D?1:0}var v=CanvasRenderingContext2D.prototype.beginPath||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.beginPath does not exist")};function g(n){v.call(_(n))}var b=CanvasRenderingContext2D.prototype.fill||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.fill does not exist")};function C(n){b.call(_(n))}var m=CanvasRenderingContext2D.prototype.stroke||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.stroke does not exist")};function x(n){m.call(_(n))}function D(n,t){for(;n;){var e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Object.getPrototypeOf(n)}throw new Error("descriptor for id='".concat(t,"' not found"))}var E=D(CanvasRenderingContext2D.prototype,"strokeStyle").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(CanvasRenderingContext2D.prototype, 'strokeStyle').set does not exist")};function k(n,t){E.call(_(n),_(t))}var R=D(CanvasRenderingContext2D.prototype,"fillStyle").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(CanvasRenderingContext2D.prototype, 'fillStyle').set does not exist")};function T(n,t){R.call(_(n),_(t))}var O=CanvasRenderingContext2D.prototype.arc||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.arc does not exist")},L=null;function I(){return null!==L&&L.buffer===o.d.buffer||(L=new Uint32Array(o.d.buffer)),L}function H(n,t,e,r,o,i,a){try{O.call(_(n),t,e,r,o,i)}catch(n){var s=I();s[a/4]=1,s[a/4+1]=d(n)}}var M=CanvasRenderingContext2D.prototype.lineTo||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.lineTo does not exist")};function j(n,t,e){M.call(_(n),t,e)}var S=CanvasRenderingContext2D.prototype.moveTo||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.moveTo does not exist")};function K(n,t,e){S.call(_(n),t,e)}var P=CanvasRenderingContext2D.prototype.clearRect||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.clearRect does not exist")};function A(n,t,e,r,o){P.call(_(n),t,e,r,o)}var G=CanvasRenderingContext2D.prototype.fillRect||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.fillRect does not exist")};function z(n,t,e,r,o){G.call(_(n),t,e,r,o)}var F=CanvasRenderingContext2D.prototype.strokeRect||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.strokeRect does not exist")};function N(n,t,e,r,o){F.call(_(n),t,e,r,o)}var U=CanvasRenderingContext2D.prototype.fillText||function(){throw new Error("wasm-bindgen: CanvasRenderingContext2D.prototype.fillText does not exist")},q=new(void 0===n?e(8).TextDecoder:n)("utf-8"),W=null;function J(){return null!==W&&W.buffer===o.d.buffer||(W=new Uint8Array(o.d.buffer)),W}function B(n,t){return q.decode(J().subarray(n,n+t))}function Q(n,t,e,r,o,i){var a=B(t,e);try{U.call(_(n),a,r,o)}catch(n){var s=I();s[i/4]=1,s[i/4+1]=d(n)}}var V=D(CanvasRenderingContext2D.prototype,"font").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(CanvasRenderingContext2D.prototype, 'font').set does not exist")};function X(n,t,e){var r=B(t,e);V.call(_(n),r)}var Y=Document.prototype.createElement||function(){throw new Error("wasm-bindgen: Document.prototype.createElement does not exist")};function Z(n,t,e,r){var o=B(t,e);try{return d(Y.call(_(n),o))}catch(n){var i=I();i[r/4]=1,i[r/4+1]=d(n)}}var $=D(Document.prototype,"body").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(Document.prototype, 'body').get does not exist")};function nn(n){return void 0===n||null===n}function tn(n){var t=$.call(_(n));return nn(t)?0:d(t)}function en(n){return _(n)instanceof HTMLCanvasElement?1:0}var rn=HTMLCanvasElement.prototype.getContext||function(){throw new Error("wasm-bindgen: HTMLCanvasElement.prototype.getContext does not exist")};function on(n,t,e,r){var o=B(t,e);try{var i=rn.call(_(n),o);return nn(i)?0:d(i)}catch(n){var a=I();a[r/4]=1,a[r/4+1]=d(n)}}var an=D(HTMLCanvasElement.prototype,"width").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(HTMLCanvasElement.prototype, 'width').get does not exist")};function sn(n){return an.call(_(n))}var un=D(HTMLCanvasElement.prototype,"width").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(HTMLCanvasElement.prototype, 'width').set does not exist")};function cn(n,t){un.call(_(n),t)}var _n=D(HTMLCanvasElement.prototype,"height").get||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(HTMLCanvasElement.prototype, 'height').get does not exist")};function fn(n){return _n.call(_(n))}var dn=D(HTMLCanvasElement.prototype,"height").set||function(){throw new Error("wasm-bindgen: GetOwnOrInheritedPropertyDescriptor(HTMLCanvasElement.prototype, 'height').set does not exist")};function ln(n,t){dn.call(_(n),t)}var pn=Node.prototype.appendChild||function(){throw new Error("wasm-bindgen: Node.prototype.appendChild does not exist")};function hn(n,t,e){try{return d(pn.call(_(n),_(t)))}catch(n){var r=I();r[e/4]=1,r[e/4+1]=d(n)}}function wn(n){return _(n)instanceof Window?1:0}var yn=function(){return this.document};function vn(n){var t=yn.call(_(n));return nn(t)?0:d(t)}function gn(n,t){var e=B(n,t);return d(new Function(e))}var bn=Function.prototype.call||function(){throw new Error("wasm-bindgen: Function.prototype.call does not exist")};function Cn(n,t,e){try{return d(bn.call(_(n),_(t)))}catch(n){var r=I();r[e/4]=1,r[e/4+1]=d(n)}}function mn(n){return 1==(1&n)?d(_(n)):(c[n>>1].cnt+=1,n)}function xn(n){if(!((n>>=1)<4)){var t=c[n];t.cnt-=1,t.cnt>0||(c[n]=f,f=n)}}function Dn(n){xn(n)}function En(n,t){return d(B(n,t))}function kn(n,t){var e=_(n);return"number"==typeof e?e:(J()[t]=1,0)}function Rn(n){return null===_(n)?1:0}function Tn(n){return void 0===_(n)?1:0}function On(n){var t=_(n);return"boolean"==typeof t?t?1:0:2}function Ln(n){return"symbol"===s(_(n))?1:0}var In=new(void 0===r?e(8).TextEncoder:r)("utf-8");function Hn(n,t){var e=_(n);if("string"!=typeof e)return 0;var r=a(function(n){var t=In.encode(n),e=o.b(t.length);return J().set(t,e),[e,t.length]}(e),2),i=r[0],s=r[1];return I()[t/4]=s,i}var Mn=xn;function jn(n,t,e,r,i){var a=o.a.get(e),s=o.a.get(r),u=function(n){this.cnt++;var e=this.a;this.a=0;try{return a(e,t,n)}finally{this.a=e,1==this.cnt--&&s(this.a,t)}};u.a=n,u.cnt=1;var c=u.bind(u);return c.original=u,d(c)}function Sn(n,t){throw new Error(B(n,t))}}.call(this,e(7).TextDecoder,e(7).TextEncoder)}}]);